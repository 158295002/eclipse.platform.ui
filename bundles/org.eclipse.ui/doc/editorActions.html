<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HEAD><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</HEAD>
<HTML>
<BODY>
<H1><CENTER>Editor Menus, Toolbars and Actions</CENTER></H1>
<b><i>Identifier: </i></b>org.eclipse.ui.editorActions<p>
<b><i>Description: </i></b>This extension point is used to add actions to the menu 
and toolbar for editors registered by other plug-ins. 
<p>
The initial contribution set for an editor is defined 
by another extension point (org.eclipse.ui.editors). 
One set of actions is created and shared by all 
instances of the same editor type.  When invoked, 
these action act upon the active editor.  This 
extension point follows the same pattern.  Each 
action extension is created and shared by all 
instances of the same editor type.  The action 
class is required to implement 
<samp>org.eclipse.ui.IEditorActionDelegate</samp>.  
The active editor is passed to the delegate by invoking 
<samp>IEditorActionDelegate.setActiveEditor</samp>.<p><b><i>Configuration Markup:</i></b><p>
<p><samp>&nbsp;&nbsp; &lt;!ELEMENT extension (editorContribution*)&gt;</samp>
<br><br><samp>&nbsp;&nbsp; &lt;!ATTLIST extension</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;point&nbsp;CDATA #REQUIRED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;&nbsp;CDATA #IMPLIED</samp>
<br><samp>&nbsp;&nbsp; &gt;</samp>
<ul>
<li><b>point</b> - a fully qualified identifier of the target extension point</li><li><b>id</b> - an optional identifier of the extension instance</li><li><b>name</b> - an optional name of the extension instance</li></ul>
<p><samp>&nbsp;&nbsp; &lt;!ELEMENT editorContribution (menu | action)*&gt;</samp>
<br><br><samp>&nbsp;&nbsp; &lt;!ATTLIST editorContribution</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targetID&nbsp;CDATA #REQUIRED</samp>
<br><samp>&nbsp;&nbsp; &gt;</samp>
<ul>
<li><b>id</b> - a unique identifier that can be used to reference this contribution</li><li><b>targetID</b> - a unique identifier of a previously registered editor that is the target of this contribution</li></ul>
<p><samp>&nbsp;&nbsp; &lt;!ELEMENT menu (separator+)&gt;</samp>
<br><br><samp>&nbsp;&nbsp; &lt;!ATTLIST menu</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;CDATA #REQUIRED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path&nbsp;&nbsp;CDATA #IMPLIED</samp>
<br><samp>&nbsp;&nbsp; &gt;</samp>
<ul>
<li><b>id</b> - a unique identifier that can be used to reference this menu</li><li><b>label</b> - the text label of the new menu. The label should include mnemonic information.</li><li><b>path</b> - the location of the menu starting from the root of the menu bar. If omitted, the menu 
will be added into the slot <samp>additions</samp> on the menu bar. Each token in 
the path must refer to an existing menu in the workbench, except the last one,
which represents a named group in the last menu in the path.</li></ul>
<p><samp>&nbsp;&nbsp; &lt;!ELEMENT action (selection* , enablement?)&gt;</samp>
<br><br><samp>&nbsp;&nbsp; &lt;!ATTLIST action</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;accelerator&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;menubarPath&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbarPath&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;icon&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disabledIcon&nbsp;&nbsp;CDATA #IMPLIED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hoverIcon&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tooltip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;helpContextId&nbsp;CDATA #IMPLIED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(true | false) "false"#IMPLIED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enablesFor&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(push|radio|toggle) #IMPLIED</samp>
<br><samp>&nbsp;&nbsp; &gt;</samp>
<ul>
<li><b>id</b> - a unique identifier that can be used as a reference for this action.</li><li><b>label</b> - a translatable name that is used in various ways, depending on the context. In menus, it is used 
as the menu text. In toolbars, it is used as the button label. The label can contain JFace-encoded 
mnemonic and accelerator information (see example).</li><li><b>accelerator</b> - The accelerator for the action.  This is specified as a combination of the keys CTRL, SHIFT and ALT and an accelerator key.
These values are not internationalized and should not be translated.
Specification of the accelerator for the entry title should be done in the label - this value will not be used to build a menu entry.</li><li><b>menubarPath</b> - a slash-delimited path ('/') that is used to specify the location of the action in the menu bar. 
<b>The path may only point to menus that belong to the target editor.</b> The last token 
represents the named separator group into which the action will be added. If the path is 
omitted, the action will not appear in menu bar.</li><li><b>toolbarPath</b> - a slash-delimited path ('/') that is used to specify the location of the action in the toolbar. The first token
represents the toolbar ID (with "Normal" being the default toolbar), while the second token is
the named group within the toolbar. If the group does not exist in the toolbar, it will be created. 
If toolbarPath is omitted, the action will not appear.</li><li><b>icon</b> - a relative path of an icon that will be used to visually represent the action in its context. 
If it is omitted and the action should appear in the toolbar, the workbench will use a place 
holder icon. The path is relative to the location of the plugin.xml file of the contributing plug-in.</li><li><b>disabledIcon</b> - a relative path of an icon that will be used to visually represent the action in its context when the action is disabled.
If it is omitted, the normal icon will simply appear greyed out.
The path is relative to the location of the plugin.xml file of the contributing plug-in.</li><li><b>hoverIcon</b> - a relative path of an icon that will be used to visually represent the action in its context when the mouse is over the action.
If its is omitted, the normal icon will be used.  This path is relative to the location of the plugin.xml file of the contributing plug-in.</li><li><b>tooltip</b> - used if the action is to appear in the tool bar. Otherwise, it is ignored.</li><li><b>helpContextId</b> - a unique identifier indicating the help context id for this action. If the action appears as a menu item, then pressing F1 while the menu item is highlighted will display help for the given context id.</li><li><b>state</b> - an optional attribute indicating the initial state (either <samp>true</samp> or <samp>false</samp>), used when the <samp>style</samp> attribute has the value <samp>radio</samp> or <samp>toggle</samp>.</li><li><b>class</b> - the name of the fully qualified class that implements 
<samp>org.eclipse.ui.IEditorActionDelegate</samp></li><li><b>enablesFor</b> - a value indicating the selection count which must be met to enable the action.
If this attribute is specified and the condition is met, the action is enabled.
If the condition is not met, the action is disabled.
If no attribute is specified, the action is enabled for any number of items selected.
The following attribute formats are supported: 
    <table border="0" width="80%">
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>!</b></td>
        <td valign="top">- 0 items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>?</b></td>
        <td valign="top">- 0 or 1 items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>+</b></td>
        <td valign="top">- 1 or more items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>multiple, 2+</b></td>
        <td valign="top">- 2 or more items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>n</b></td>
        <td valign="top">- a precise number of items selected.a precise number of items selected.&nbsp;
          For example: enablesFor=&quot; 4&quot; enables the action only when 4
          items are selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>*</b></td>
        <td valign="top">- any number of items selected</td>
      </tr>
    </table></li><li><b>style</b> - an optional attribute to define the user interface style type for the action. If defined, the attribute value will be one of the following:
    <table border="0" width="80%">
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>push</b></td>
        <td valign="top">- as a regular menu item or tool item.</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>radio</b></td>
        <td valign="top">- as a radio style menu item or tool item. Actions with the radio style within the same menu or toolbar group behave as a radio set. The initial value is specified by the <samp>state</samp> attribute.</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>toggle</b></td>
        <td valign="top">- as a checked style menu item or as a toggle tool item. The initial value is specified by the <samp>state</samp> attribute.</td>
      </tr>
    </table></li></ul>
<p><samp>&nbsp;&nbsp; &lt;!ELEMENT separator EMPTY&gt;</samp>
<br><br><samp>&nbsp;&nbsp; &lt;!ATTLIST separator</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;CDATA #REQUIRED</samp>
<br><samp>&nbsp;&nbsp; &gt;</samp>
<ul>
<li><b>name</b> - name of the separator that can later be referenced as the last
token in the action path. Therefore, separators serve as
named groups into which actions can be added.</li></ul>
<p><samp>&nbsp;&nbsp; &lt;!ELEMENT selection EMPTY&gt;</samp>
<br><br><samp>&nbsp;&nbsp; &lt;!ATTLIST selection</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;CDATA #REQUIRED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;&nbsp;CDATA #IMPLIED</samp>
<br><samp>&nbsp;&nbsp; &gt;</samp>
<ul>
<li><b>class</b> - a fully qualified name of the class or interface that each object in the selection 
must subclass or implement in order to enable the action.</li><li><b>name</b> - a wild card filter that can optionally be applied to objects in the selection. If this filter
is specified and the match fails, the action will be disabled.</li></ul>
<p><samp>&nbsp;&nbsp; &lt;!ELEMENT enablement (and | or | not | objectClass | objectState | systemProperty | pluginState)&gt;</samp>
<p>&nbsp;&nbsp; In version 2.0 of Eclipse, an enablement element may be used to define the enablement for the action.  For more information on the use of enablement element, refer to actionExpressions.</p>
<p><samp>&nbsp;&nbsp; &lt;!ELEMENT and (or | not | objectClass | objectState | systemProperty | pluginState)*&gt;</samp>
<p><samp>&nbsp;&nbsp; &lt;!ELEMENT or (and | not | objectClass | objectState | systemProperty | pluginState)*&gt;</samp>
<p><samp>&nbsp;&nbsp; &lt;!ELEMENT not (and | or | objectClass | objectState | systemProperty | pluginState)&gt;</samp>
<p><samp>&nbsp;&nbsp; &lt;!ELEMENT objectClass EMPTY&gt;</samp>
<br><br><samp>&nbsp;&nbsp; &lt;!ATTLIST objectClass</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;CDATA #REQUIRED</samp>
<br><samp>&nbsp;&nbsp; &gt;</samp>
<ul>
<li><b>name</b> - a fully qualified name of a class.  The expression is evaluated as true only if the selection implements this class.</li></ul>
<p><samp>&nbsp;&nbsp; &lt;!ELEMENT objectState EMPTY&gt;</samp>
<br><br><samp>&nbsp;&nbsp; &lt;!ATTLIST objectState</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;&nbsp;CDATA #REQUIRED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;CDATA #REQUIRED</samp>
<br><samp>&nbsp;&nbsp; &gt;</samp>
<ul>
<li><b>name</b> - the name of an object attribute.  Acceptable values for this string reflect the object's type, and should be
publicly declared by the plugin where the object's type is declared.</li><li><b>value</b> - the required value of the object attribute.  The acceptable values for the object attribute should be publicly declared.</li></ul>
<p><samp>&nbsp;&nbsp; &lt;!ELEMENT systemProperty EMPTY&gt;</samp>
<br><br><samp>&nbsp;&nbsp; &lt;!ATTLIST systemProperty</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;&nbsp;CDATA #REQUIRED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;CDATA #REQUIRED</samp>
<br><samp>&nbsp;&nbsp; &gt;</samp>
<ul>
<li><b>name</b> - the name of the system property.</li><li><b>value</b> - the required value of the system property.</li></ul>
<p><samp>&nbsp;&nbsp; &lt;!ELEMENT pluginState EMPTY&gt;</samp>
<br><br><samp>&nbsp;&nbsp; &lt;!ATTLIST pluginState</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</samp>
<br><samp>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;(installed|activated) #REQUIRED</samp>
<br><samp>&nbsp;&nbsp; &gt;</samp>
<ul>
<li><b>id</b> - </li><li><b>value</b> - the required state of the plugin.  Currently two states are supported: installed and activated.</li></ul>
<b><i>Examples: </i></b>The following is an example of an editor action extension 
point: 
<p>
<pre>
   &lt;extension point="org.eclipse.ui.editorActions"&gt; 
      &lt;editorContribution 
         id="com.xyz.xyzContribution" 
         targetID="com.ibm.XMLEditor"&gt; 
         &lt;menu id="XYZ" label="&amp;amp;XYZ Menu"&gt; 
            &lt;separator name="group1"/&gt; 
         &lt;/menu&gt; 
         &lt;action 
              id="com.xyz.runXYZ" 
              label="&amp;amp;Run XYZ Tool" 
              menubarPath="XYZ/group1" 
              toolbarPath="Normal/additions"
              style="toggle"
              state="true" 
              icon="icons/runXYZ.gif" 
              tooltip="Run XYZ Tool" 
              helpContextId="com.xyz.run_action_context" 
              class="com.xyz.actions.RunXYZ"&gt; 
         &lt;/action&gt; 
      &lt;/editorContribution&gt; 
   &lt;/extension&gt; 
</pre>
</p>
In the example above, the specified action will appear as a check box item in the new top-level menu named "XYZ Menu", and as a toggle button in the toolbar. 
<p>
The following is an example of an editor action extension point: 
<p>
<pre>
   &lt;extension point="org.eclipse.ui.editorActions"&gt; 
      &lt;editorContribution 
         id="com.xyz.xyz2Contribution" 
         targetID="com.ibm.XMLEditor"&gt; 
         &lt;menu 
            id="XYZ2" 
            label="&amp;amp;XYZ2 Menu" 
            path="edit/additions"&gt; 
            &lt;separator name="group1"/&gt; 
         &lt;/menu&gt; 
         &lt;action 
              id="com.xyz.runXYZ2" 
              label="&amp;amp;Run XYZ2 Tool" 
              menubarPath="edit/XYZ2/group1"
              style="toggle"
              state="true" 
              icon="icons/runXYZ2.gif" 
              tooltip="Run XYZ2 Tool" 
              helpContextId="com.xyz.run_action_context2" 
              class="com.xyz.actions.RunXYZ2"&gt; 
         &lt;/action&gt; 
      &lt;/editorContribution&gt; 
   &lt;/extension&gt; 
</pre>
</p>
In the example above, the specified action will appear as a check box item in the sub-menu named "XYZ2 Menu" in the top level "Edit" menu.<p>
<b><i>API Information: </i></b>The value of the class attribute must be a fully qualified
name of a Java class that implements 
<samp>org.eclipse.ui.IEditorActionDelegate</samp>. 
This interface is loaded as late as possible to 
avoid loading the entire plug-in before it is really 
needed. The method <samp>setActiveEditor</samp> will be 
called each time an editor of the specified type is 
activated. Only one set of actions and menus will be 
created for all instances of the specified editor 
type, regardless of the number of editor instances 
currently opened in the workbench. 
<p>
This extension point can be used to contribute actions 
into menus previously created by the target editor. 
In addition, menus and actions can be contributed to 
the workbench window.  The identifiers for actions and 
major groups within the workbench window are defined in 
<samp>org.eclipse.ui.IWorkbenchActionConstants</samp>.  
These should be used as a reference point for 
the addition of new actions.  Top level menus are 
created by using the following values for the 
path attribute: 
<ul>
<li>
additions - represents a group to the left of the Window menu. 
</li>
</ul>
Actions and menus added into these paths will only 
be shown while the associated editor is active. When 
the editor is closed, menus and actions will be removed.
<p>
The enablement criteria for an action extension are initially defined by
<samp>enablesFor</samp>,
<samp>selection</samp> and <samp>enablement</samp>. However, once the action
delegate has been instantiated, it may control the action enable state
directly within its
<samp>selectionChanged</samp> method.
<p>
Action and menu labels may contain special characters that encode mnemonics and accelerators using the following rules:
<ol>
<li>
Mnemonics are specified using the ampersand ('&amp;') character in front
of a selected character in the translated text. Since ampersand is not
allowed in XML strings, use <samp>&amp;amp;</samp> character entity.</li>

<li>
Optional accelerators are specified at the and of the name string, using
<samp>@</samp>
followed by the series of modifiers and the final accelerator character
(for example, <samp>&amp;amp;Save@Ctrl+S</samp>). Modifiers can be chained
using the '+' sign as the delimiter (as in <samp>@Ctrl+Shift+S</samp>).</li>
</ol>
If two or more actions are contributed to a menu or toolbar by a single
extension the actions will appear in the reverse order of how they are
listed in the plugin.xml file. This behavior is admittedly unintuitive. 
However, it was discovered after the Eclipse Platform API was frozen. 
Changing the behavior now would break every plug-in which relies upon the
existing behavior.<p>
<b><i>Supplied Implementation: </i></b>The workbench provides a built-in "Default Text Editor". Plug-ins can contribute into this default editor or editors provided by other plug-ins.<p>
<p>
Copyright (c) 2002 IBM Corporation and others.
All rights reserved.   This program and the accompanying materials are made available under the terms of the Common Public License v1.0 which accompanies this distribution, and is available at http://www.eclipse.org/legal/cpl-v10.html<p>
</BODY>
</HTML>
